{% extends 'Administracion/_common/base_administracion.html' %}
{% load static %}
<title>{% block titulo %}Editar Tercero{% endblock %}</title>
{% block styles %}
<!-- DEMO related CSS below -->
	<link rel="stylesheet" media="screen, print" href="{%static 'EVA/Plantilla/css/fa-brands.css' %}">
	<!-- page related CSS below -->
	<link rel="stylesheet" media="screen, print" href="{% static 'EVA/Plantilla/css/formplugins/select2/select2.bundle.css' %}">
    <link rel="stylesheet" media="screen, print" href="{% static 'EVA/Plantilla/css/fa-regular.css' %}">
{% endblock %}
{% block main %}
<div class="panel-container show">
    <div class="header">
         <h1 class="header-title">
            <i class='far fa-handshake'></i> Terceros: <span class='fw-300'>Editar</span>
             <br>
             <br>
         </h1>
    </div>
    <div class="row">
        <div class="col-xl-12">
            <div id="panel-1" class="panel">

                <div class="panel-container show">
                    <div class="panel-content">

                        <div class="panel-group">
                            <div class="panel-body">

                                <form action="{% url 'Administracion:terceros-editar' tercero.id %}" id="tercero-form" method="post" >
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <div class="form-row">
                                            <div class="col-md-6">
                                                <label for="empleado_name">Nombre</label>
                                                <input class="form-control" id="tercero_name" type="text" name="nombre" placeholder="Ingrese el nombre" required maxlength="100" value="{{ tercero.nombre }}">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="empleado_last_name">Identificación</label>
                                                <input class="form-control" id="tercero_identificacion" type="text" name="identificacion" placeholder="Ingrese el número de identificación" required maxlength="15" value="{{ tercero.identificacion }}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-row">
                                            <div class="col-md-6">
                                                <label for="tipo_identificacion_select">Tipo de Identificación</label>
                                                <select class="select2 form-control" id="tipo_identificacion_select" name="tipo_identificacion_id" required>
                                                    <option value="" >Seleccione un Tipo de Identificación</option>
                                                    {% for tipo_id in tipo_identificaciones %}
                                                        <option value="{{ tipo_id.id }}" {% if tipo_id.id == tercero.tipo_identificacion_id %} selected {% endif %}>{{ tipo_id.nombre }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="empresa_select">Empresa</label>
                                                <select class="select2 form-control" id="empresa_select" name="empresa_id" required>
                                                    <option value="" >Seleccione una Empresa</option>
                                                    {% for empresa in empresas %}
                                                        <option value="{{ empresa.id }}" {% if empresa.id == tercero.empresa_id %} selected {% endif %}>{{ empresa.nombre }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-row">
                                            <div class="col-md-6">
                                                <label for="cargo_select">Tipo Terceros</label>
                                                <select class="select2 form-control" id="tipo_select" name="tipo_tercero_id" required>
                                                    <option value="" >Seleccione un Tipo de Tercero</option>
                                                    {% for tipo in tipo_terceros %}
                                                        <option value="{{ tipo.id }}" {% if tipo.id == tercero.tipo_tercero_id %} selected {% endif %}>{{ tipo.nombre }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                             <div class="col-md-6">
                                                <label for="departamento_select">Departamento</label>
                                                <select class="select2 form-control" id="departamento_select" name="departamento_id" required>
                                                    <option value="" >Seleccione un Departamento</option>
                                                    {% for departamento in departamentos %}
                                                        <option value="{{ departamento.id }}" {% if departamento.id == tercero.centro_poblado.municipio.departamento.id %} selected {% endif %} >{{ departamento.nombre }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-row">
                                            <div class="col-md-6">
                                                <br>
                                                <label for="municipio_select">Municipio</label>
                                                <select class="select2 form-control" id="municipio_select" name="municipio_id" required>
                                                     {% for municipio in municipios %}
                                                        <option value="{{ municipio.id }}" {% if municipio.id == tercero.centro_poblado.municipio.id %} selected {% endif %} >{{ municipio.nombre }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <br>
                                                <label for="centro_poblado_select">Centro Poblado</label>
                                                <select class="select2 form-control" id="centro_poblado_select" name="centro_poblado_id" required>
                                                     {% for c_poblado in c_poblados %}
                                                        <option value="{{ c_poblado.id }}" {% if c_poblado.id == tercero.centro_poblado.id %} selected {% endif %} >{{ c_poblado.nombre }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="form-group">
                                        <div class="form-row">
                                            <div class="col-md-6">
                                                <div class="custom-control custom-switch">
                                                    <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" id="defaultChecked" name="estado" checked="" value="True" {% if tercero.estado %}checked{% endif %}>
                                                    <label class="custom-control-label" for="defaultChecked">Estado</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div >
                                            <button id="guardar" class="btn btn-primary btn-block">Actualizar</button>
                                        </div>
                                        <div style="padding-left: 15px">
                                            <a href="{% url 'Administracion:terceros' %}" class="btn btn-danger btn-block">Cancelar</a>
                                        </div>
                                    </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
{% block scripts %}

    <script src="{% static 'EVA/Plantilla/js/formplugins/select2/select2.bundle.js' %}"></script>
	<script>
		$(document).ready(function () {
		    $('.select2').select2();
		});
	</script>
    <script src="{% static 'Administracion/js/select_divipol.js' %}"></script>

    <script type="text/javascript">
	$('#defaultIndeterminate').prop('indeterminate', true)

	var toggleCheckbox = function(){
		$('#js-checkbox-toggle').toggleText('Change to CIRCLE', 'Change back to default');
		$('.frame-wrap .custom-checkbox').toggleClass('custom-checkbox-circle');
	}

	var toggleRadio = function (){
		$('#js-radio-toggle').toggleText('Change to ROUNDED', 'Change back to default');
		$('.frame-wrap .custom-radio').toggleClass('custom-radio-rounded');
	}
    </script>
{% endblock %}
